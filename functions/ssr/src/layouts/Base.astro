---
import type { PageContext } from '@@storefront/ssr-context';
import Base from '@@storefront/layouts/Base.astro';
import InlineScripts from '~/scripts/InlineScripts.astro';

export interface Props {
  pageContext: PageContext;
  title?: string;
}

const { pageContext, title } = Astro.props as Props;
---

<Base pageContext={pageContext} title={title}>
  <InlineScripts slot="before-head-end" />
  <slot />
</Base>

<style is:global>
@media only screen and (prefers-color-scheme: dark) {
  :root:not([data-theme=light]) a:not([role=button]) {
    --color: var(--primary-100);
  }
  :root:not([data-theme=light]) a:not([role=button]):is([aria-current], :hover, :active, :focus) {
    --color: var(--primary-300);
  }
}
html {
  scroll-behavior: smooth;
}
body {
  overflow-x: hidden;
}
</style>
