---
import type { PageContext } from '@@sf/ssr-context';
import api from '@cloudcommerce/api';
import Prices from '~/components/Prices.vue';
import ProductCard from '@@sf/components/ProductCard.vue';

export interface Props {
  pageContext: PageContext;
}

const products = (await api.get('products')).data.result;
---

<main>
  <h1>Welcome to <span class="text-primary">Astro</span></h1>
  <ul role="list" class="mt-3 fs-20">
    {products.map((product) => <li>
      <a href={`/${product.slug}`}>{product.sku}</a>
    </li>)}
  </ul>
  <div class="prose">
    <h1>Oi</h1>
    <p>Olá <a href="/">link</a></p>
    <ul>
      <li>So here is the first item in this list.</li>
      <li>In this example we're keeping the items short.</li>
      <li>Later, we'll use longer, more complex list items.</li>
    </ul>
    <details>
      <summary role="button">Accordion 1</summary>
      <p>…</p>
    </details>
  </div>
  <div>
    <h1>Oi</h1>
    <p>Olá <a href="/">link</a></p>
    <details>
      <summary role="button">Accordion 1</summary>
      <p>…</p>
    </details>
  </div>
  <div class="mt-2">
    <div>
      <label class="block">
        <span class="text-gray-700">Email address</span>
        <input type="email" class="mt-1 block w-full" placeholder="john@example.com">
      </label>
      <label class="inline-flex items-center">
        <input type="checkbox" checked />
        <span class="ml-2 font-brand">Email me news and special offers</span>
      </label>
    </div>
  </div>
  <Prices price={10} client:load />
  <ProductCard client:load />
</main>
