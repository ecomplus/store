---
import loadRouteContext, { RouteContext } from '@@sf/ssr-context';
import Base from '~/layouts/Base.astro';
import PageHeader from '~/layouts/PageHeader.astro';
import FallbackMain from '~/main/Fallback.astro';

let routeContext: RouteContext;
try {
  routeContext = await loadRouteContext(Astro);
} catch (err: any) {
  return err.astroResponse;
}

// export const prerender = true;
---

<!DOCTYPE html>
<html lang={routeContext?.lang.replace('_', '-')}>
<Base>
  <PageHeader />
  <FallbackMain />
</Base>
</html>
