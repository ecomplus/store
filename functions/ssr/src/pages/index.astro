---
import ViewHome from '@cloudcommerce/storefront/src/lib/views/index.astro';
import loadPageContext, { PageContext } from '@cloudcommerce/storefront/src/lib/ssr-context';

let pageContext: PageContext;
try {
  pageContext = await loadPageContext(Astro);
  /* Faster SSR without store categories (default) prefetch:
  pageContext = await loadPageContext(Astro, {
    apiPrefetchEndpoints: [],
  });
  */
} catch (err) {
  return err.astroResponse;
}
---

<ViewHome pageContext={pageContext} />
